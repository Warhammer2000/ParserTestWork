# Руководство по работе с тестовым проектом

## Обзор

Этот проект демонстрирует использование ASP.NET Core для веб-приложения, которое парсит данные о закупках с внешнего сайта и сохраняет их в базе данных PostgreSQL. В приложении реализованы функции пагинации, кэширования, управления переменными окружения и REST API для получения данных из базы данных.

## Особенности

- **Парсинг данных**: Парсинг данных о закупках с внешнего сайта и их сохранение в базу данных PostgreSQL.
- **Взаимодействие с базой данных**: Использование Entity Framework Core для управления данными.
- **Пагинация**: Поддержка пагинации для отображения данных.
- **Кэширование**: Реализация кэширования для оптимизации производительности.
- **Переменные окружения**: Использование переменных окружения для хранения конфиденциальных данных.
- **REST API**: Предоставление API для получения всех данных о закупках из базы данных.

## Структура проекта

- Controllers
  - `DataController.cs`: Управляет основными операциями по парсингу данных, отображению и взаимодействию с API.
- Services
  - `DataParser.cs`: Отвечает за парсинг данных с внешнего сайта, сохранение их в базе данных и обработку ошибок.
- Models
  - `Purchase.cs`: Представляет сущность данных о закупках, хранящихся в базе данных.
  - `PurchaseViewModel.cs`: Используется для управления данными, отображаемыми на фронтенде с пагинацией.
- Views
  - `Index.cshtml`: Основное представление для отображения данных о закупках с поддержкой поиска и пагинации.

## Конфигурация

### Переменные окружения

Приложение использует переменные окружения для конфиденциальных настроек, таких как строки подключения к базе данных. Эти переменные хранятся в файле `secret.env`:

```c#
ConnectionStrings__DefaultConnection=Host=localhost;Username=your_username;Password=your_password;Database=your_database
```

### Program.cs

В файле `Program.cs` переменные окружения загружаются следующим образом:

```c#
DotNetEnv.Env.Load("secret.env");

var connectionString = Environment.GetEnvironmentVariable("ConnectionStrings__DefaultConnection");

builder.Services.AddDbContext<AppDbContext>(options =>
    options.UseNpgsql(connectionString));
```

### API Endpoint

Вы можете получить все данные о закупках через REST API:

```
GET http://localhost:5000/api/purchases/all
```

## Заключение

Этот проект демонстрирует различные возможности ASP.NET Core, включая парсинг данных, управление базой данных, кэширование и использование переменных окружения для конфигурации. Вы можете использовать этот проект как основу для создания более сложных приложений.

Для подробного обзора и демонстрации проекта посмотрите видео по ссылке: https://drive.google.com/file/d/1lcZ6IKa16wx4Y5nGDdWn8f9HrG_byTOt/view?usp=sharing


Видео-Обзор : 

[Video]: https://drive.google.com/file/d/1lcZ6IKa16wx4Y5nGDdWn8f9HrG_byTOt/view?usp=sharing	"Video"

